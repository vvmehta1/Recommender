 question  ,  "private  somedata[]  getsomedatabyemail(webserviceinterface  service'  '  string  email)  {final  string  key  =  ""data-""  +  email;somedata[]  data  =  (somedata[])  staticcache.get(key);if  (data  ==  null)  {data  =  service.getsomedataforemail(email);staticcache.set(key'  '  data'  '  cache_time);}else  {logger.debug(""getsomedataforemail:  using  cached  object"");}return  data;};  key;  private  somedata[]  getsomedatabyemail(webserviceinterface  service'  '  string  email)  {somedata[]  data  =  null;final  string  key  =  ""data-""  +  email;synchronized(key)  {data  =(somedata[])  staticcache.get(key);if  (data  ==  null)  {data  =  service.getsomedataforemail(email);staticcache.set(key'  '  data'  '  cache_time);}else  {logger.debug(""getsomedataforemail:  using  cached  object"");}}return  data;};  final  string  key;  final  string  key  =  ""blah"";...synchronized(key)  {  ...;  intern();  key;  intern();  getdata()"  ,i  have  a  webapp  that  i  am  in  the  middl  of  do  some  loadperform  test  on  particularili  on  a  featur  where  we  expect  a  few  hundr  user  to  be  access  the  same  page  and  hit  refresh  about  everi  second  on  this  page  one  area  of  improv  that  we  found  we  could  make  with  this  function  was  to  cach  the  respons  from  the  web  servic  for  some  period  of  time  sinc  the  data  is  not  chang  after  implement  this  basic  cach  in  some  further  test  i  found  out  that  i  didnt  consid  how  concurr  thread  could  access  the  cach  at  the  same  time  i  found  that  within  the  matter  of  ms  about  thread  were  tri  to  fetch  the  object  from  the  cach  find  that  it  had  expir  hit  the  web  servic  to  fetch  the  data  and  then  put  the  object  back  in  the  cach  the  origin  code  look  someth  like  this  so  to  make  sure  that  onli  one  thread  was  call  the  web  servic  when  the  object  at  expir  i  thought  i  need  to  synchron  the  cach  getset  oper  and  it  seem  like  use  the  cach  key  would  be  a  good  candid  for  an  object  to  synchron  on  this  way  call  to  this  method  for  email  bbcom  would  not  be  block  by  method  call  to  aacom  i  updat  the  method  to  look  like  this  i  also  ad  log  line  for  thing  like  befor  synchron  block  insid  synchron  block  about  to  leav  synchron  block  and  after  synchron  block  so  i  could  determin  if  i  was  effect  synchron  the  getset  oper  howev  it  doesnt  seem  like  this  has  work  my  test  log  have  output  like  i  want  to  see  onli  one  thread  at  a  time  enteringexit  the  synchron  block  around  the  getset  oper  is  there  an  issu  in  synchron  on  string  object  i  thought  the  cachekey  would  be  a  good  choic  as  it  is  uniqu  to  the  oper  and  even  though  the  is  declar  within  the  method  i  was  think  that  each  thread  would  be  get  a  refer  to  and  therefor  would  synchron  on  this  singl  object  what  am  i  do  wrong  here  after  look  further  at  the  log  it  seem  like  method  with  the  same  synchron  logic  where  the  key  is  alway  the  same  such  asdo  not  exhibit  the  same  concurr  problem  onli  one  thread  at  a  time  is  enter  the  block  thank  to  everyon  for  the  help  i  accept  the  first  answer  about  string  which  solv  my  initi  problem  where  multipl  thread  were  enter  synchron  block  where  i  thought  they  shouldnt  becaus  thes  had  the  same  valu  as  other  have  point  out  use  for  such  a  purpos  and  synchron  on  those  string  doe  inde  turn  out  to  be  a  bad  idea  when  run  jmeter  test  against  the  webapp  to  simul  the  expect  load  i  saw  the  use  heap  size  grow  to  almost  gb  in  just  under  minut  current  im  use  the  simpl  solut  of  just  synchron  the  entir  method  but  i  like  the  code  sampl  provid  by  martinprobst  and  mbcook  but  sinc  i  have  about  similar  method  in  this  class  current  sinc  it  need  about  differ  piec  of  data  from  a  web  servic  i  didnt  want  to  add  almostdupl  logic  about  get  and  releas  lock  to  each  method  but  this  is  definit  veri  veri  valuabl  info  for  futur  usag  i  think  these  are  ultim  the  correct  answer  on  how  best  to  make  an  oper  like  this  threadsaf  and  id  give  out  more  vote  to  these  answer  if  i  could  ,  simpleassignmentexpress  objectmethodinvoc  actualmethodparamet  stringliter  stringdatatyp  formalmethodparamet  privatemethodspecifi  stringvari  simplevari  nulliniti  arraydatatyp  constant  constantinitializationstat  subtractexpress  addexpress  explicittypecast  ifstat  equalexpress  null  finalfieldspecifi  instancefield  instancefieldinitializationstat                   simplevari  arraydatatyp  constant  objectvari  stringvari  stringdatatyp           stringvari  stringdatatyp  simplevari  nulliniti  arraydatatyp  simpleassignmentexpress  constant  constantinitializationstat  stringliter  subtractexpress  addexpress  explicittypecast  objectmethodinvoc  actualmethodparamet  ifstat  equalexpress  null     
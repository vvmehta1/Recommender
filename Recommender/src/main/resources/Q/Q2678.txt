 question  ,  "thread[]  threads  =  new  thread[max_threads];for(  int  i  =  0;  i  <  threads.length;  i++  )  {threads[i]  =  new  thread(  new  runnable()  {private  final  int  id  =  threadidsequencenumber++;public  void  run()  {try  {resultrefs[id]  =  runtest(  integer.tostring(  id  )  );  //  returns  an  object}catch(  throwable  t  )  {  //  this  code  is  evil  -  it  catches  even//  errors  -  don't  copy  it  -  more  on  this  belowfinal  string  message  =  ""error  testing  thread  with  id  =>  ""+  id;logger.debug(  message'  '  t  );throw  new  illegalstateexception(  message'  '  t  );  //  need  to  wrap  throwable  in  a  //  run  time  exception  so  it  will  compile}}}  );};  for(  thread  thread  :  threads  )thread.start();logger.debug(  ""waiting  for  threads  to  finish  ...""  );boolean  done  =  false;while(  !done  )  {done  =  true;for(  thread  thread  :  threads  )if(  thread.isalive()  )done  =  false;}for(  int  i  =  0;  i  <  resultrefs.length;  i++  )  {asserttrue(  ""you've  got  the  world  messed'  '  dawg!""'  'mycondition(resultrefs[i])  );"  ,  when  assert  error  are  thrown  in  the  thread  the  unit  test  doesnt  die  this  make  sens  sinc  one  thread  shouldnt  be  allow  to  crash  anoth  thread  the  question  is  how  do  i  either  make  the  whole  test  fail  when  the  first  of  the  helper  thread  crash  or  loop  through  and  determin  the  state  of  each  thread  after  they  have  all  complet  see  code  below  one  way  of  do  the  latter  is  by  have  a  per  thread  status  variabl  eg  boolean  status  and  have  statusesi  fals  mean  that  the  thread  fail  this  could  be  extend  to  captur  more  inform  howev  that  is  not  what  i  want  i  want  it  to  fail  just  like  ani  other  unit  test  when  the  assert  error  are  thrown  is  this  even  possibl  is  it  desir  i  got  bore  and  i  decid  to  spawn  a  bunch  of  thread  in  my  unit  test  and  then  have  them  call  a  servic  method  just  for  the  heck  of  it  the  code  look  approxim  like  after  this  we  will  loop  through  the  array  of  thread  and  start  each  one  after  that  we  will  wait  for  them  all  to  finish  final  we  will  perform  some  check  on  the  result  refer  here  the  problem  did  you  notic  that  nasti  trycatchthrow  block  i  just  ad  that  as  a  temporari  hack  so  i  could  see  what  was  go  on  in  runtest  string  a  few  assert  are  made  eg  assertnotnul  null  but  sinc  it  is  in  a  differ  thread  it  doesnt  caus  the  unit  test  to  fail  my  guess  is  that  we  will  need  to  somehow  iter  over  the  thread  array  check  the  status  of  each  and  manual  caus  an  assert  error  if  the  thread  termin  in  a  nasti  way  what  the  name  of  the  method  that  give  this  inform  the  stack  trace  of  the  dead  thread  ,  throwstat  objectcreationstat  constructorcal  actualmethodparamet  simpleassignmentexpress  notexpress  stringliter  stringdatatyp                   objectcreationstat  constructorcal  actualmethodparamet  returnstat  instancefield  instancefieldinitializationstat  simpleassignmentexpress  objectmethodinvoc  simplevari  
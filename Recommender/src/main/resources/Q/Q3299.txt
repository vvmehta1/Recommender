 question  ,  "public  class  test  {public  static  final  int  nthreads  =  2;public  static  void  main(string[]  args)  throws  executionexception'  '  interruptedexception{//runnable  myrunnable  =  new  myrunnable();executorservice  execute  =  executors.newfixedthreadpool(nthreads);for  (int  i  =  0;  i  <  nthreads;  ++i)  {execute.execute(new  mytask());}  execute.awaittermination(1000'  '  timeunit.milliseconds);execute.shutdown();}}class  mytask  implements  runnable  {public  static  final  int  maxcalls  =  10;public  static  final  int  sleepmillis  =  500;private  static  httpresponse  response;private  static  httpclient  httpclient;public  void  run(){int  counter  =  0;while  (true)  {if  (counter  >=  maxcalls)  {break;}try  {thread.currentthread().sleep(sleepmillis);}  catch  (interruptedexception  e)  {//  todo  auto-generated  catch  blocke.printstacktrace();}exechttprequest();++counter;}}private  void  exechttprequest()  {httpclient  =  new  defaulthttpclient();httpget  httpget  =  new  httpget(""my  url"");try  {response  =  httpclient.execute(httpget);bufferedreader  br  =  new  bufferedreader(new  inputstreamreader(response.getentity().getcontent()));string  output;while((output=br.readline())!=null){system.out.println(thread.currentthread().getname()  +output);}br.close();httpclient.getconnectionmanager().shutdown();//httpclient.getconnectionmanager().shutdown();}  catch  (clientprotocolexception  e)  {e.printstacktrace();}  catch  (ioexception  e)  {e.printstacktrace();}finally{httpclient.getconnectionmanager().shutdown();}}};  exception  in  thread  ""pool-1-thread-1""  java.lang.illegalstateexception:  invalid  use  of  singleclientconnmanager:  connection  still  allocated.make  sure  to  release  the  connection  before  allocating  another  one.at  org.apache.http.impl.conn.singleclientconnmanager.getconnection(singleclientconnmanager.java:216)at  org.apache.http.impl.conn.singleclientconnmanager$1.getconnection(singleclientconnmanager.java:190)at  org.apache.http.impl.client.defaultrequestdirector.execute(defaultrequestdirector.java:401)at  org.apache.http.impl.client.abstracthttpclient.execute(abstracthttpclient.java:820)at  org.apache.http.impl.client.abstracthttpclient.execute(abstracthttpclient.java:754)at  org.apache.http.impl.client.abstracthttpclient.execute(abstracthttpclient.java:732)at  mytask.exechttprequest(test.java:72)at  mytask.run(test.java:60)at  java.util.concurrent.threadpoolexecutor.runworker(threadpoolexecutor.java:1110)at  java.util.concurrent.threadpoolexecutor$worker.run(threadpoolexecutor.java:603)at  java.lang.thread.run(thread.java:722)java.io.interruptedioexception:  connection  has  been  shut  downat  org.apache.http.impl.client.defaultrequestdirector.execute(defaultrequestdirector.java:543)at  org.apache.http.impl.client.abstracthttpclient.execute(abstracthttpclient.java:820)at  org.apache.http.impl.client.abstracthttpclient.execute(abstracthttpclient.java:754)at  org.apache.http.impl.client.abstracthttpclient.execute(abstracthttpclient.java:732)at  mytask.exechttprequest(test.java:72)at  mytask.run(test.java:60)at  java.util.concurrent.threadpoolexecutor.runworker(threadpoolexecutor.java:1110)at  java.util.concurrent.threadpoolexecutor$worker.run(threadpoolexecutor.java:603)at  java.lang.thread.run(thread.java:722)caused  by:  org.apache.http.impl.conn.connectionshutdownexceptionat  org.apache.http.impl.conn.abstractpooledconnadapter.assertvalid(abstractpooledconnadapter.java:86)at  org.apache.http.impl.conn.abstractpooledconnadapter.getroute(abstractpooledconnadapter.java:112)at  org.apache.http.impl.client.defaultrequestdirector.establishroute(defaultrequestdirector.java:740)at  org.apache.http.impl.client.defaultrequestdirector.tryconnect(defaultrequestdirector.java:577)at  org.apache.http.impl.client.defaultrequestdirector.execute(defaultrequestdirector.java:425)...  8  more"  ,while  run  this  code  i  get  the  follow  except  when  i  execut  http  request  then  i  see  these  except  it  work  perfect  fine  for  singlethread  i  am  tri  to  call  a  specif  url  which  work  perfect  fine  but  when  i  add  more  than  one  thread  to  it  it  throw  an  illeg  state  except  ,  classdefinit  implementsspecif  methodimplement  publicfieldspecifi  staticfieldspecifi  finalfieldspecifi  classfield  classconstantinitializationstat  intdatatyp  simpleassignmentexpress  privatefieldspecifi  simplevari  methoddefinit  publicmethodspecifi  voiddatatyp    simpleassignmentexpress  objectcreationstat  constructorcal  actualmethodparamet     simpleassignmentexpress  
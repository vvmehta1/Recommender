 question  ,  thread  1:while(true)  {...do  something...foo.notifyall()...wait  for  some  condition  that  might  never  happen......}thread  2:...foo.wait();...;  while(true)  {  foo  =  new  futuretask();  ...  foo.set(...);  ...wait  for  a  condition  that  might  never  be  set...  ...};  class  event  {  semaphore  sem;  event()  {  sem  =  new  semaphore(1);  sem  .  }  void  signal()  {  sem.release();  }  void  reset()  {  sem.acquire(1);  }  void  wait()  {  if  (sem.tryacquire(1))  {  sem.release();  }  }};  synchronized(foo)  {while(!condition)  {foo.wait();}}  ,i  have  a  thread  that  updat  it  state  from  time  to  time  and  i  want  a  second  thread  to  be  abl  to  wait  for  the  first  thread  to  be  done  someth  like  this  now  this  look  nice  and  all  unless  thread  s  notifyal  run  befor  thread  s  wait  in  which  case  thread  wait  until  thread  notifi  which  might  never  happen  my  possibl  solut  a  i  could  use  a  countdownlatch  or  a  futur  but  both  have  the  problem  that  they  inher  onli  run  that  is  in  thread  s  while  loop  i  would  need  to  creat  a  new  foo  to  wait  for  each  time  and  thread  would  need  to  ask  which  foo  to  wait  for  i  have  a  bad  feel  about  simpli  writinga  i  fear  that  at  foo  new  futuretask  what  happen  when  someon  wait  for  the  old  foo  for  some  reason  set  was  not  call  eg  a  bug  in  the  except  handlingb  or  i  could  use  a  semaphor  but  i  fear  that  there  is  some  race  condit  if  multipl  thread  are  wait  for  it  while  anoth  one  signal  and  reset  is  there  noth  in  the  java  api  that  resembl  the  window  event  behaviour  or  if  you  despis  window  someth  like  golang  waitgroup  ie  a  countdownlatch  that  allow  countup  anyth  thread  cannot  simpli  wait  becaus  of  spurious  wakeup  and  in  java  there  is  no  way  to  know  whi  objectwait  return  so  i  need  a  condit  variabl  that  store  whether  the  event  is  signal  or  not  thread  and  thread  of  cours  set  condit  to  true  in  a  synchron  block  thank  to  weeken  for  the  hint  or  do  i  need  to  copi  and  past  the  code  all  over  ,  classdefinit  instancefield  simplevari  constructordefinit  simpleassignmentexpress  objectcreationstat  constructorcal  actualmethodparamet  methoddefinit  voiddatatyp  objectmethodinvoc  ifstat    whilestat  objectmethodinvoc  actualmethodparamet     objectmethodinvoc     instancefield  instancefieldinitializationstat  simpleassignmentexpress  genericobjectcreationstat  
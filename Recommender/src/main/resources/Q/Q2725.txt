 question  ,  this.executor  =  new  defaultexecutor();pipedoutputstream  stdout  =  new  pipedoutputstream();pipedoutputstream  stderr  =  new  pipedoutputstream();pipedinputstream  stdin  =  new  pipedinputstream();pumpstreamhandler  streamhandler  =  new  pumpstreamhandler(stdout'  '  stderr'  '  stdin);this.executor.setstreamhandler(streamhandler);this.processoutput  =  new  bufferedinputstream(new  pipedinputstream(stdout));this.processerror  =  new  bufferedinputstream(new  pipedinputstream(stderr));this.processinput  =  new  bufferedoutputstream(new  pipedoutputstream(stdin));this.resulthandler  =  new  defaultexecuteresulthandler();this.executor.execute(cmdline'  '  resulthandler);;  while  (!killthreads)  {string  input  =  inputqueue.take();processinput.write(input.getbytes());processinput.flush();ioqueue.put(input);}  ,i  am  write  a  java  applic  that  need  to  use  an  extern  command  line  applic  use  the  apach  common  exec  libraryth  applic  i  need  to  run  has  a  fair  long  load  time  so  it  would  be  prefer  to  keep  one  instanc  aliv  instead  of  creat  a  new  process  everi  timeth  way  the  applic  work  is  veri  simpleonc  start  it  wait  for  some  new  input  and  generat  some  data  as  an  output  both  of  which  use  the  applic  standard  io  so  the  idea  would  be  to  execut  the  commandlin  and  then  to  use  the  pumpstreamhandl  with  three  separ  stream  output  error  and  input  and  use  those  stream  to  interact  with  the  applicationso  far  i  have  had  this  work  in  basic  scenario  where  i  have  one  input  one  output  and  the  applic  then  shut  downbut  as  soon  as  im  tri  to  have  a  second  transact  someth  goe  wrong  after  have  creat  my  commandlin  i  creat  my  executor  and  launch  it  like  so  i  then  proceed  to  launch  three  differ  thread  each  of  one  handl  a  differ  streami  also  have  three  synchronousqueu  that  handl  input  and  output  one  use  as  input  for  the  input  stream  one  to  inform  the  outputqueu  that  a  new  command  has  been  launch  and  one  for  outputfor  exampl  the  input  stream  thread  look  like  this  if  i  remov  the  while  loop  and  just  execut  this  onc  everyth  seem  to  work  perfectlyobvi  if  i  tri  execut  it  again  the  pumpstreamhandl  throw  an  except  becaus  it  has  been  access  by  two  differ  thread  the  issu  here  is  that  it  seem  like  the  processinput  is  not  truli  flush  until  the  thread  endswhen  debug  the  command  line  applic  onli  truli  receiv  it  input  onc  the  thread  end  but  never  get  it  if  the  while  loop  is  keptiv  tri  mani  differ  thing  to  get  the  processinput  to  flush  but  noth  seem  to  work  has  anyon  attempt  anyth  similar  beforei  there  anyth  i  am  missingani  help  would  be  great  appreci  ,  simpleassignmentexpress  objectmethodinvoc  actualmethodparamet  instancefieldinvoc  thisrefer  objectcreationstat  constructorcal    classdefinit  implementsspecif  methodimplement     objectvari  simplevari  simpleassignmentexpress  objectcreationstat  constructorcal  actualmethodparamet  objectmethodinvoc  returnstat  formalmethodparamet  throwsspecif  ifelsestat  notequalexpress  null  throwstat  instancefield  instancefieldinitializationstat  
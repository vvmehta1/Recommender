 question  ,  "import  java.awt.color;import  java.awt.dimension;import  java.awt.eventqueue;import  java.awt.graphics;import  java.awt.graphicsconfiguration;import  java.awt.graphicsdevice;import  java.awt.graphicsenvironment;import  java.awt.insets;import  java.awt.rectangle;import  java.awt.transparency;import  java.awt.event.actionevent;import  java.awt.event.actionlistener;import  java.awt.event.componentevent;import  java.awt.event.componentlistener;import  java.awt.event.mouseevent;import  java.awt.event.mouselistener;import  java.awt.image.bufferedimage;import  javax.swing.jframe;import  javax.swing.jpanel;import  javax.swing.jtextfield;import  javax.swing.timer;public  class  newtest  extends  jpanel  implements  mouselistener'  '  actionlistener'  '  componentlistener'  '  runnable  {jframe  f;insets  insets;private  timer  t  =  new  timer(20'  '  this);bufferedimage  buffer1;boolean  repaintbuffer1  =  true;int  initwidth  =  640;int  initheight  =  480;rectangle  rect;public  static  void  main(string[]  args)  {eventqueue.invokelater(new  newtest());}@overridepublic  void  run()  {f  =  new  jframe(""newtest"");f.addcomponentlistener(this);f.setdefaultcloseoperation(jframe.exit_on_close);f.add(this);f.pack();f.setlocationrelativeto(null);f.setvisible(true);createbuffers();insets  =  f.getinsets();t.start();}public  newtest()  {super(true);this.setpreferredsize(new  dimension(initwidth'  '  initheight));this.setlayout(null);this.addmouselistener(this);}void  createbuffers()  {int  width  =  this.getwidth();int  height  =  this.getheight();graphicsenvironment  ge  =  graphicsenvironment.getlocalgraphicsenvironment();graphicsdevice  gs  =  ge.getdefaultscreendevice();graphicsconfiguration  gc  =  gs.getdefaultconfiguration();buffer1  =  gc.createcompatibleimage(width'  '  height'  '  transparency.opaque);repaintbuffer1  =  true;}@overrideprotected  void  paintcomponent(graphics  g)  {int  width  =  this.getwidth();int  height  =  this.getheight();if  (repaintbuffer1)  {graphics  g1  =  buffer1.getgraphics();g1.clearrect(0'  '  0'  '  width'  '  height);g1.setcolor(color.green);g1.drawrect(0'  '  0'  '  width  -  1'  '  height  -  1);g.drawimage(buffer1'  '  0'  '  0'  '  null);repaintbuffer1  =  false;}double  time  =  2*  math.pi  *  (system.currenttimemillis()  %  5000)  /  5000.;g.setcolor(color.red);if  (rect  !=  null)  {g.drawimage(buffer1'  '  rect.x'  '  rect.y'  '  rect.x  +  rect.width'  '  rect.y  +  rect.height'  '  rect.x'  '  rect.y'  '  rect.x  +  rect.width'  '  rect.y  +  rect.height'  '  this);}rect  =  new  rectangle((int)(math.sin(time)  *  width/3  +  width/2  -  20)'  '  (int)(math.cos(time)  *  height/3  +  height/2)  -  20'  '  40'  '  40);g.fillrect(rect.x'  '  rect.y'  '  rect.width'  '  rect.height);}@overridepublic  void  actionperformed(actionevent  e)  {this.repaint();}@overridepublic  void  componenthidden(componentevent  arg0)  {//  todo  auto-generated  method  stub}@overridepublic  void  componentmoved(componentevent  arg0)  {//  todo  auto-generated  method  stub}@overridepublic  void  componentresized(componentevent  e)  {int  width  =  e.getcomponent().getwidth()  -  (insets.left  +  insets.right);int  height  =  e.getcomponent().getheight()  -  (insets.top  +  insets.bottom);this.setsize(width'  '  height);createbuffers();}@overridepublic  void  componentshown(componentevent  arg0)  {//  todo  auto-generated  method  stub}@overridepublic  void  mouseclicked(mouseevent  e)  {jtextfield  field  =  new  jtextfield(""test"");field.setbounds(new  rectangle(e.getx()'  '  e.gety()'  '  100'  '  20));this.add(field);repaintbuffer1  =  true;}@overridepublic  void  mouseentered(mouseevent  arg0)  {//  todo  auto-generated  method  stub}@overridepublic  void  mouseexited(mouseevent  arg0)  {//  todo  auto-generated  method  stub}@overridepublic  void  mousepressed(mouseevent  arg0)  {//  todo  auto-generated  method  stub}@overridepublic  void  mousereleased(mouseevent  arg0)  {//  todo  auto-generated  method  stub}}"  ,has  anyon  ever  tri  to  use  swing  to  construct  a  proper  multibuff  render  environmentin  this  case  i  have  an  anim  red  rectangl  drawn  onto  a  background  the  background  doe  not  need  to  be  updat  everi  frame  so  i  render  it  onto  a  bufferedimag  and  redraw  onli  the  portion  necessari  to  clear  the  previous  locat  of  the  rectangl  see  the  complet  code  below  this  extend  the  exampl  given  by  trashgod  in  a  previous  threadso  far  so  good  smooth  anim  low  cpu  usag  no  flicker  then  i  add  a  jtextfield  to  the  jpanel  by  click  on  ani  posit  on  the  screen  and  focus  on  it  by  click  insid  the  text  box  clear  the  previous  locat  of  the  rectangl  now  fail  on  everi  cursor  blink  see  the  imag  below  i  am  curious  if  anyon  has  an  idea  of  whi  this  might  happen  swing  not  be  threadsaf  the  imag  be  paint  asynchron  and  in  what  direct  to  look  for  possibl  solut  regardsmattij  ps  this  is  on  mac  os  java  ,  simpleassignmentexpress  objectvari  simplevari  privatefieldspecifi  instancefield  formalmethodparamet  staticmethodspecifi  objectmethodinvoc  actualmethodparamet  objectcreationstat  constructorcal  intdatatyp  true  fals  instancefieldinitializationstat  doubledatatyp  multiplyexpress  constantinvoc  constant  modulusexpress  divideexpress  explicittypecast  addexpress  subtractexpress  classdefinit  publicclassspecifi  methoddefinit  publicmethodspecifi  voiddatatyp    simpleassignmentexpress  objectvari  simplevari  privatefieldspecifi  instancefield  formalmethodparamet  staticmethodspecifi  objectmethodinvoc  actualmethodparamet  objectcreationstat  constructorcal  intdatatyp  true  fals  instancefieldinitializationstat  doubledatatyp  multiplyexpress  constantinvoc  constant  modulusexpress  divideexpress  explicittypecast  addexpress  subtractexpress  classdefinit  publicclassspecifi  methoddefinit  publicmethodspecifi  voiddatatyp  
 question  ,  null,  one  of  our  server  is  experienc  a  veri  high  cpu  load  with  our  applic  weve  look  at  various  stat  and  are  have  issu  find  the  sourc  of  the  problem  one  of  the  current  theori  is  that  there  are  too  mani  thread  involv  and  that  we  should  tri  to  reduc  the  number  of  concurr  execut  thread  there  just  one  main  thread  pool  with  thread  and  a  workmanag  work  with  it  this  is  java  ee  glassfish  at  ani  given  moment  there  are  about  separ  network  io  oper  that  need  to  be  conduct  in  parallel  use  of  javanio  is  not  an  option  either  moreov  there  are  rough  oper  that  have  no  io  involv  and  are  also  execut  in  parallel  this  structur  is  not  effici  and  we  want  to  see  if  it  is  actual  caus  damag  or  is  simpli  bad  practic  reason  be  that  ani  chang  is  quit  expens  in  this  system  in  term  of  man  hour  so  we  need  some  proof  of  an  issu  so  now  were  wonder  if  context  switch  of  thread  is  the  caus  given  there  are  far  more  thread  than  the  requir  concurr  oper  look  at  the  log  we  see  that  on  averag  there  are  differ  thread  execut  in  a  given  second  if  we  take  into  account  the  exist  of  two  cpus  see  below  then  it  is  thread  per  cpu  this  doesnt  sound  like  too  much  but  we  want  to  verifi  this  so  can  we  rule  out  context  switch  or  toomanythread  as  the  problem  general  detail  as  advis  below  weve  conduct  captur  of  load  averag  use  uptim  and  cpu  use  vmstat  on  our  test  server  with  various  load  weve  wait  minut  between  each  load  chang  and  it  measur  to  ensur  that  the  system  stabil  around  the  new  load  and  that  the  load  averag  number  are  updat  of  the  product  server  workload  of  the  product  server  workload  of  the  product  server  workloadcpu  usag  appear  to  be  reduc  as  the  load  reduc  but  not  on  a  veri  drastic  level  chang  from  to  is  not  realli  a  reduct  in  cpu  usag  load  averag  seem  uncorrel  with  the  amount  of  workload  there  also  a  question  given  our  test  server  is  also  a  vm  could  it  cpu  measur  be  impact  by  other  vms  run  on  the  same  host  make  the  abov  measur  useless  attach  the  snapshot  of  the  thread  in  three  part  pastebin  limit  part  part  part  ,    simpleassignmentexpress              
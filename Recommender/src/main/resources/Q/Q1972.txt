 question  ,  int  currentpos  =  textarea.getcaretposition();int  currentline  =  0;try  {for(int  i  =  0;  i  <  textarea.getlinecount();  i++)  {if((currentpos  >=  textarea.getlinestartoffset(i))  &&  (currentpos  <  gamestatetextarea.getlineendoffset(i)))  {currentline  =  i;break;}}}  catch(exception  e)  {  }textarea.settext(text);int  newline  =  math.min(currentline'  '  textarea.getlinecount());int  newoffset  =  0;try  {newoffset  =  textarea.getlinestartoffset(newline);}  catch(exception  e)  {  }textarea.setcaretposition(newoffset);  ,i  have  a  jscrollpan  with  a  jtextarea  set  as  it  view  port  i  updat  the  multi  line  text  shown  on  the  jtextarea  contin  about  onc  a  second  each  time  the  text  updat  jscrollpan  goe  all  the  way  to  the  bottom  of  the  text  instead  id  like  to  figur  out  the  line  number  that  is  current  shown  as  the  first  line  in  the  origin  text  and  have  that  line  be  the  first  line  shown  when  the  text  has  been  updat  or  if  the  new  text  doesnt  have  that  mani  line  then  scroll  all  the  way  to  the  bottom  my  first  attempt  of  do  this  was  to  get  the  current  caret  posit  figur  the  line  base  on  that  and  then  set  the  text  area  to  show  that  line  this  was  almost  accept  for  my  need  but  requir  the  user  to  click  insid  the  text  area  to  chang  the  caret  posit  so  that  the  scroll  will  maintain  state  which  isnt  nice  how  would  i  do  this  use  the  vertic  scroll  posit  instead  ,    simpleassignmentexpress  explicittypecast  objectmethodinvoc  actualmethodparamet  
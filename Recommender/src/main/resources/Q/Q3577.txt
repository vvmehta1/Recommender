 question  ,  fileoutputstream(...'  '  true);  def  invoked(id:  int'  '  path:  string)  =  {val  writer  =  new  fileoutputstream(path'  '  true)val  bytes  =  (id.tostring  +  ';').getbytes(charset.defaultcharset())writer.write(bytes)writer.close()};  fileoutputstream;  fileoutputstream  ,accord  to  small  file  append  on  window  are  atom  i  am  tri  to  leverag  this  in  scala  java  to  avoid  lock  when  append  a  small  int  to  a  file  i  am  find  that  write  use  from  multipl  thread  are  be  interleav  even  though  the  question  link  abov  suggest  that  they  should  be  atom  a  test  har  for  this  in  scala  can  be  foundth  key  code  is  i  was  hope  that  invok  would  be  threadsaf  without  lock  the  same  javascala  code  achiev  atom  file  append  on  linux  as  per  small  file  append  are  atom  on  posix  so  the  differ  seem  to  be  in  the  nativ  implement  of  perhap  is  not  pass  the  correct  flag  to  window  doe  anyon  know  how  to  make  this  work  will  i  have  to  write  a  jni  dll  to  get  this  to  work  or  is  there  a  way  i  can  do  this  with  java  standard  librari  ,  objectvari  simplevari  simpleassignmentexpress  objectmethodinvoc  actualmethodparamet  addexpress  constantinvoc 